const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DataViewer-Ca0xaxij.js","assets/index-BI4Hwmrn.js","assets/index-COsNNYlc.css","assets/TextBox-B9yNKVIv.js","assets/TextBox-CUZX0UxP.css","assets/DataViewer--1Nvov8V.css","assets/FileBrowser-CDtuxwlq.js","assets/FileBrowser-BjLCSeDE.css","assets/JsonViewer-0oIplyJO.js","assets/JsonViewer.vue_vue_type_script_setup_true_lang-D_KxYFpL.js","assets/BreadCrumbs-CGepgEeO.js","assets/BreadCrumbs-D582mgmK.css","assets/MolViewer-JGU9clJj.js","assets/MolViewerStore-DxkwOfuX.js","assets/MolGridStore-LnNKbt6F.js","assets/MolRender3D-DQpL7o9B.js","assets/MolRender3D-BOIri_dQ.css","assets/BaseFetching-DhAaNPca.js","assets/BaseFetching-CiTUXLMo.css","assets/MolViewer-B3vbuLrx.css","assets/MolsetViewer-mcRGG5_5.js","assets/MolsetViewer.vue_vue_type_script_setup_true_lang-Bm5xzO_F.js","assets/initRDKit-WaX80hiK.js","assets/16-yYCC17EQ.js","assets/MolsetViewer-Rz8i20h0.css","assets/PdfViewer-CBzNx9Im.js","assets/TextViewer--bkp-CDldM-rA.js","assets/TextViewer--bkp-Dlkg3jVw.css","assets/TextViewer-Du1h4OHq.js","assets/UnknownViewer-jTCTV6PI.js","assets/_templateModule-B0sDZvan.js"])))=>i.map(i=>d[i]);
import{d as P,u as x,a as R,b as C,r as y,s as g,c as V,w as h,o as L,e as b,f as k,g as F,h as a,i as E,t as I,j as i,k as c,l as M,m as O,n as B,p as S,q as N,F as j,v as q,x as G,_ as $,y as t}from"./index-BI4Hwmrn.js";import{u as U}from"./MolViewerStore-DxkwOfuX.js";import{u as z}from"./MolGridStore-LnNKbt6F.js";import{B as H}from"./BreadCrumbs-CGepgEeO.js";import{B as J}from"./BaseFetchingFile-BqlzHlLb.js";import"./BaseFetching-DhAaNPca.js";const Q={key:0,class:"error-msg"},K=q("p",null,"File not found",-1),oe=P({__name:"ViewerDispatch",setup(W){const T=x(),_=R(),e=C(),f=U(),l=z();let n=null;const p=y(!1),m=y(!1),u=g(null),D=V(()=>!(e.isDir||!e.data||e.moduleName=="MolViewer"||e.moduleName=="MolGrid")),A=V(()=>"/~/"+e.breadCrumbPathArray.slice(1).slice(0,-1).join("/"));v(),h(()=>_.path,()=>{v()}),h(()=>e.fileType,()=>{d(e.moduleName)}),L(e.clear);async function v(){const s=_.path.replace(/(^\/headless)?\/~(\/)?/,""),r=_.query;b(k.getFile(s,r),{loading:p,onError:o=>{e.setForcedLoading(!1),console.error("Error in getFile()",o)},onSuccess:o=>{if(e.setForcedLoading(!1),e.loadItem(o),e.errCode){n!="error"&&d(null),n="error";return}if(["molset","sdf","smi"].includes(e.fileType||"")){const w=o.data;l.setMolset(w),e.ext=="json"?l.setContext("json"):e.ext=="sdf"?l.setContext("sdf-file"):e.ext=="smi"&&l.setContext("smi-file")}else e.fileType=="smol"?f.setMolData(o.data,"smol"):e.fileType&&["mmol","pdb","cif"].includes(e.fileType)&&f.setMolData(o.data,"mmol");n!="file"&&d(e.moduleName),n="file"}})}function d(s){if(m.value=!1,!s){u.value=null;return}u.value=G(()=>$(Object.assign({"../viewers/DataViewer.vue":()=>t(()=>import("./DataViewer-Ca0xaxij.js"),__vite__mapDeps([0,1,2,3,4,5])),"../viewers/FileBrowser.vue":()=>t(()=>import("./FileBrowser-CDtuxwlq.js"),__vite__mapDeps([6,1,2,7])),"../viewers/JsonViewer.vue":()=>t(()=>import("./JsonViewer-0oIplyJO.js"),__vite__mapDeps([8,9,1,2,10,11,3,4])),"../viewers/MolViewer.vue":()=>t(()=>import("./MolViewer-JGU9clJj.js").then(r=>r.c),__vite__mapDeps([12,1,2,13,14,10,11,15,16,17,18,19])),"../viewers/MolsetViewer.vue":()=>t(()=>import("./MolsetViewer-mcRGG5_5.js"),__vite__mapDeps([20,21,1,2,14,13,10,11,12,15,16,17,18,19,22,23,24])),"../viewers/PdfViewer.vue":()=>t(()=>import("./PdfViewer-CBzNx9Im.js"),__vite__mapDeps([25,1,2,10,11])),"../viewers/TextViewer--bkp.vue":()=>t(()=>import("./TextViewer--bkp-CDldM-rA.js"),__vite__mapDeps([26,1,2,10,11,27])),"../viewers/TextViewer.vue":()=>t(()=>import("./TextViewer-Du1h4OHq.js"),__vite__mapDeps([28,1,2,10,11,3,4])),"../viewers/UnknownViewer.vue":()=>t(()=>import("./UnknownViewer-jTCTV6PI.js"),__vite__mapDeps([29,1,2,10,11])),"../viewers/_templateModule.vue":()=>t(()=>import("./_templateModule-B0sDZvan.js"),__vite__mapDeps([30,1,2]))}),`../viewers/${s}.vue`,3).catch(r=>{console.log(111,`../viewers/${s}.vue`,r),m.value=!0}))}return(s,r)=>{const o=F("cv-button");return m.value?(a(),E("div",Q,"The requested module '"+I(i(e).moduleName)+"' was not found.",1)):i(e).forcedLoading||p.value&&!i(e).isDir?(a(),c(J,{key:1,text:"Opening file",failText:"Failed to open file"})):u.value?(a(),c(M(u.value),{key:2})):(a(),E(j,{key:3},[D.value?O("",!0):(a(),c(H,{key:0,pathArray:i(e).breadCrumbPathArray},null,8,["pathArray"])),K,B(o,{size:"small",onClick:r[0]||(r[0]=w=>i(T).push(A.value))},{default:S(()=>[N("Exit")]),_:1})],64))}}});export{oe as default};
